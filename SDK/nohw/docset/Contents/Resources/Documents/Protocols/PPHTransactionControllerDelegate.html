<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>PPHTransactionControllerDelegate Protocol Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">PayPalHereSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">PayPal</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/contactlessTimeoutAction">- contactlessTimeoutAction</option>
		
		<option value="//api/name/getCurrentNavigationController">- getCurrentNavigationController</option>
		
		<option value="//api/name/getReceiptOptions">- getReceiptOptions</option>
		
		<option value="//api/name/readerDidActivateForPayments">- readerDidActivateForPayments</option>
		
		<option value="//api/name/readerDidDeactivateForPayments">- readerDidDeactivateForPayments</option>
		
		<option value="//api/name/receiptOptionsWillAppearForRecord:">- receiptOptionsWillAppearForRecord:</option>
		
		<option value="//api/name/userAddedGratuityToInvoice:">- userAddedGratuityToInvoice:</option>
		
		<option value="//api/name/userDidSelectPaymentMethod:">- userDidSelectPaymentMethod:</option>
		
		<option value="//api/name/userDidSelectRefundMethod:">- userDidSelectRefundMethod:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">PPHTransactionControllerDelegate Protocol Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Conforms to</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>PPHTransactionControllerDelegate.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The TransactionController defines an interface that can be used by the application to install a callback
object that is used to customize behavior and the payment experience.
TransactionControllers are set on the TransactionManager on a per transaction basis. Unlike persistent
listeners that are registered with the manager object, TransactionControllers are &ldquo;forgotten&rdquo; by the
SDK at the end of each transaction (regardless of success or failure).
TransactionControllers are also used to call out important transaction related events to the app
such as contactless payment listener timeouts.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/userDidSelectPaymentMethod:" title="userDidSelectPaymentMethod:"></a>
	<h3 class="method-title"><code><a href="#//api/name/userDidSelectPaymentMethod:">&ndash;&nbsp;userDidSelectPaymentMethod:</a></code>
<span class="task-item-suffix">required method</span></h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>This delegate method will be called by the EMVSDK whenever a user selects a payment method by
presenting their card. Mandatory if your app would like to take custom action such as handling tips
before letting the EMVSDK continue. Gives you a chance to modify the transaction total.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)userDidSelectPaymentMethod:(PPHPaymentMethod)<em>paymentOption</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>paymentOption</code></th>
						<td><p>the type of payment option the user selected.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This delegate method will be called by the EMVSDK whenever a user selects a payment method by
presenting their card. Mandatory if your app would like to take custom action such as handling tips
before letting the EMVSDK continue. Gives you a chance to modify the transaction total.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/userDidSelectRefundMethod:" title="userDidSelectRefundMethod:"></a>
	<h3 class="method-title"><code><a href="#//api/name/userDidSelectRefundMethod:">&ndash;&nbsp;userDidSelectRefundMethod:</a></code>
<span class="task-item-suffix">required method</span></h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>This delegate method will be called by the EMVSDK whenever a user selects a refund method by
presenting their card. Mandatory if your app would like to take custom action before letting
the EMVSDK continue. Gives you a chance to modify the transaction total.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)userDidSelectRefundMethod:(PPHPaymentMethod)<em>refundOption</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>refundOption</code></th>
						<td><p>the type of refund payment option user selected.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This delegate method will be called by the EMVSDK whenever a user selects a refund method by
presenting their card. Mandatory if your app would like to take custom action before letting
the EMVSDK continue. Gives you a chance to modify the transaction total.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getCurrentNavigationController" title="getCurrentNavigationController"></a>
	<h3 class="method-title"><code><a href="#//api/name/getCurrentNavigationController">&ndash;&nbsp;getCurrentNavigationController</a></code>
<span class="task-item-suffix">required method</span></h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Mandatory if you are using the EMVSDK. Returns a reference to a
navigation controller we drive UI off of.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (UINavigationController *)getCurrentNavigationController</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Mandatory if you are using the EMVSDK. Returns a reference to a
navigation controller we drive UI off of.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getReceiptOptions" title="getReceiptOptions"></a>
	<h3 class="method-title"><code><a href="#//api/name/getReceiptOptions">&ndash;&nbsp;getReceiptOptions</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Request an NSArray of <a href="../Classes/PPHReceiptOption.html">PPHReceiptOption</a> from the delegate. This array represents
a series of options that will be displayed alongside the Email and SMS receipt options.
A sample use case for this is implementing a &ldquo;Print&rdquo; option that will print the receipt using
your custom hardware and logic.
See <a href="../Classes/PPHReceiptOption.html">PPHReceiptOption</a> for more information.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSArray *)getReceiptOptions</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Request an NSArray of <a href="../Classes/PPHReceiptOption.html">PPHReceiptOption</a> from the delegate. This array represents
a series of options that will be displayed alongside the Email and SMS receipt options.
A sample use case for this is implementing a &ldquo;Print&rdquo; option that will print the receipt using
your custom hardware and logic.
See <a href="../Classes/PPHReceiptOption.html">PPHReceiptOption</a> for more information.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/receiptOptionsWillAppearForRecord:" title="receiptOptionsWillAppearForRecord:"></a>
	<h3 class="method-title"><code><a href="#//api/name/receiptOptionsWillAppearForRecord:">&ndash;&nbsp;receiptOptionsWillAppearForRecord:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>This message is sent to the delegate right before the receipt options screen appears.
If your app does automatic receipt printing, this is a good place to do it.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)receiptOptionsWillAppearForRecord:(PPHTransactionRecord *)<em>record</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>record</code></th>
						<td><p>A description of the current transaction</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This message is sent to the delegate right before the receipt options screen appears.
If your app does automatic receipt printing, this is a good place to do it.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/contactlessTimeoutAction" title="contactlessTimeoutAction"></a>
	<h3 class="method-title"><code><a href="#//api/name/contactlessTimeoutAction">&ndash;&nbsp;contactlessTimeoutAction</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>To conserve battery life the contactless listener of the reader may timeout, in which case this
method will be called so you may instruct the SDK to take a specific action. If this delegate
method is unimplemented the SDK will default to ePPHContactlessTimeoutActionCancelTransaction</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (PPHContactlessTimeoutAction)contactlessTimeoutAction</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>To conserve battery life the contactless listener of the reader may timeout, in which case this
method will be called so you may instruct the SDK to take a specific action. If this delegate
method is unimplemented the SDK will default to ePPHContactlessTimeoutActionCancelTransaction</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/userAddedGratuityToInvoice:" title="userAddedGratuityToInvoice:"></a>
	<h3 class="method-title"><code><a href="#//api/name/userAddedGratuityToInvoice:">&ndash;&nbsp;userAddedGratuityToInvoice:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The user added a gratuity to PPHTransactionManager&rsquo;s currentInvoice through prompts on the reader</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)userAddedGratuityToInvoice:(PPHInvoice *)<em>invoice</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>invoice</code></th>
						<td><p>The invoice that was updated. The same instance that is the currentInvoice of <a href="../Classes/PPHTransactionManager.html">PPHTransactionManager</a></p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The user added a gratuity to PPHTransactionManager&rsquo;s currentInvoice through prompts on the reader</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/readerDidActivateForPayments" title="readerDidActivateForPayments"></a>
	<h3 class="method-title"><code><a href="#//api/name/readerDidActivateForPayments">&ndash;&nbsp;readerDidActivateForPayments</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Gets called when the reader has been activated for payments and is ready to process card present data.
Handle any non-EMV SDK related processing once this comes back.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)readerDidActivateForPayments</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Gets called when the reader has been activated for payments and is ready to process card present data.
Handle any non-EMV SDK related processing once this comes back.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/readerDidDeactivateForPayments" title="readerDidDeactivateForPayments"></a>
	<h3 class="method-title"><code><a href="#//api/name/readerDidDeactivateForPayments">&ndash;&nbsp;readerDidDeactivateForPayments</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Gets called when the reader has been de-activated for payments.
We have not dropped connection with the reader, but our reader will not process any card present data.
To enable the reader for payments again, just call activateReaderForPayments when you are ready and take
a payment against the current TM invoice, or simply start a new transaction.
Deactivation can occur if a user presses cancel on the terminal before presenting their card to the terminal.
Deactivation can also occur if you have explicitly called deActivateReaderForPayment.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)readerDidDeactivateForPayments</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Gets called when the reader has been de-activated for payments.
We have not dropped connection with the reader, but our reader will not process any card present data.
To enable the reader for payments again, just call activateReaderForPayments when you are ready and take
a payment against the current TM invoice, or simply start a new transaction.
Deactivation can occur if a user presses cancel on the terminal before presenting their card to the terminal.
Deactivation can also occur if you have explicitly called deActivateReaderForPayment.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionControllerDelegate.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 PayPal. All rights reserved. Updated: 2016-04-06</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>