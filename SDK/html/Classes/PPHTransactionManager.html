<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>PPHTransactionManager Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">PayPalHereSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">PayPal</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/checkedInClient">checkedInClient</option>
		
		<option value="//api/name/currentInvoice">currentInvoice</option>
		
		<option value="//api/name/encryptedCardData">encryptedCardData</option>
		
		<option value="//api/name/hasActiveTransaction">hasActiveTransaction</option>
		
		<option value="//api/name/ignoreHardwareReaders">ignoreHardwareReaders</option>
		
		<option value="//api/name/isProcessingPayment">isProcessingPayment</option>
		
		<option value="//api/name/manualEntryOrScannedCardData">manualEntryOrScannedCardData</option>
		
		<option value="//api/name/requireSignatureWhenApplicable">requireSignatureWhenApplicable</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/activateReaderForPayments:">- activateReaderForPayments:</option>
		
		<option value="//api/name/authorizePaymentWithPaymentType:withCompletionHandler:">- authorizePaymentWithPaymentType:withCompletionHandler:</option>
		
		<option value="//api/name/beginPayment">- beginPayment</option>
		
		<option value="//api/name/beginPaymentUsingUIWithInvoice:transactionController:">- beginPaymentUsingUIWithInvoice:transactionController:</option>
		
		<option value="//api/name/beginPaymentWithAmount:andName:">- beginPaymentWithAmount:andName:</option>
		
		<option value="//api/name/beginPaymentWithInvoice:">- beginPaymentWithInvoice:</option>
		
		<option value="//api/name/beginRefund:forAmount:completionHandler:">- beginRefund:forAmount:completionHandler:</option>
		
		<option value="//api/name/beginRefundUsingUIWithInvoice:transactionController:">- beginRefundUsingUIWithInvoice:transactionController:</option>
		
		<option value="//api/name/cancelPayment">- cancelPayment</option>
		
		<option value="//api/name/capturePaymentForAuthorization:withCompletionHandler:">- capturePaymentForAuthorization:withCompletionHandler:</option>
		
		<option value="//api/name/deActivateReaderForPayments">- deActivateReaderForPayments</option>
		
		<option value="//api/name/processPaymentUsingUIWithPaymentType:completionHandler:">- processPaymentUsingUIWithPaymentType:completionHandler:</option>
		
		<option value="//api/name/processPaymentWithPaymentType:withTransactionController:completionHandler:">- processPaymentWithPaymentType:withTransactionController:completionHandler:</option>
		
		<option value="//api/name/processRefundUsingUIWithAmount:completionHandler:">- processRefundUsingUIWithAmount:completionHandler:</option>
		
		<option value="//api/name/provideSignature:forTransaction:completionHandler:">- provideSignature:forTransaction:completionHandler:</option>
		
		<option value="//api/name/sendReceipt:toRecipient:completionHandler:">- sendReceipt:toRecipient:completionHandler:</option>
		
		<option value="//api/name/sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:">- sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:</option>
		
		<option value="//api/name/transactionRequiresSignatureForAmount:paymentMethod:">- transactionRequiresSignatureForAmount:paymentMethod:</option>
		
		<option value="//api/name/voidAuthorization:withCompletionHandler:">- voidAuthorization:withCompletionHandler:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">PPHTransactionManager Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>PPHTransactionManager.h</td>
</tr>
						</tbody></table></div>
					

                    

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/currentInvoice" title="currentInvoice"></a>
	<h3 class="method-title"><code><a href="#//api/name/currentInvoice">&nbsp;&nbsp;currentInvoice</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The invoice used for this transaction.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) PPHInvoice *currentInvoice</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The invoice used for this transaction.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/encryptedCardData" title="encryptedCardData"></a>
	<h3 class="method-title"><code><a href="#//api/name/encryptedCardData">&nbsp;&nbsp;encryptedCardData</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Card swipe data we&rsquo;ll use if the PaymentType is CardReader.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) PPHCardSwipeData *encryptedCardData</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Card swipe data we&rsquo;ll use if the PaymentType is CardReader.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/manualEntryOrScannedCardData" title="manualEntryOrScannedCardData"></a>
	<h3 class="method-title"><code><a href="#//api/name/manualEntryOrScannedCardData">&nbsp;&nbsp;manualEntryOrScannedCardData</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Card swipe data we&rsquo;ll use if the PaymentType is ManualEntry</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) PPHCardNotPresentData *manualEntryOrScannedCardData</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Card swipe data we&rsquo;ll use if the PaymentType is ManualEntry</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/checkedInClient" title="checkedInClient"></a>
	<h3 class="method-title"><code><a href="#//api/name/checkedInClient">&nbsp;&nbsp;checkedInClient</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) PPHLocationCheckin *checkedInClient</code></div>

		    
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/isProcessingPayment" title="isProcessingPayment"></a>
	<h3 class="method-title"><code><a href="#//api/name/isProcessingPayment">&nbsp;&nbsp;isProcessingPayment</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Discover if we&rsquo;re busy processing a payment we the back end.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) BOOL isProcessingPayment</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>a boolean value.  Returns true if we&rsquo;re currently processing a finalizePayment</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Discover if we&rsquo;re busy processing a payment we the back end.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/hasActiveTransaction" title="hasActiveTransaction"></a>
	<h3 class="method-title"><code><a href="#//api/name/hasActiveTransaction">&nbsp;&nbsp;hasActiveTransaction</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Discover if we&rsquo;re currently handling a transaction.  While handling a transaction
we can accept an invoice.  If configured to work with the hardware scanners (the
default) we will also be scanning for card swipes.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) BOOL hasActiveTransaction</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>a boolean value.  Returns true if we&rsquo;re currently handling a transaction.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Discover if we&rsquo;re currently handling a transaction.  While handling a transaction
we can accept an invoice.  If configured to work with the hardware scanners (the
default) we will also be scanning for card swipes.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/ignoreHardwareReaders" title="ignoreHardwareReaders"></a>
	<h3 class="method-title"><code><a href="#//api/name/ignoreHardwareReaders">&nbsp;&nbsp;ignoreHardwareReaders</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Configure the TransactionManager to ignore OR work with any payment readers that might
be attached.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL ignoreHardwareReaders</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Configure the TransactionManager to ignore OR work with any payment readers that might
be attached.</p>

<p>The default behavior is for the TransactionManager to work with attached payment readers.  If
that is the desired behavior there is no need to call this method.</p>

<p>It is not legal to call this method during a transaction.  Complete your transaction first, then
change this setting.   Calling setIgnoreHardwareReaders during a transaction will have no effect.</p>

<p>Pass YES to ignore readers, NO to include them</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/transactionRequiresSignatureForAmount:paymentMethod:" title="transactionRequiresSignatureForAmount:paymentMethod:"></a>
	<h3 class="method-title"><code><a href="#//api/name/transactionRequiresSignatureForAmount:paymentMethod:">&ndash;&nbsp;transactionRequiresSignatureForAmount:paymentMethod:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Determines if the current transaction will request a signature or not for a given amount.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)transactionRequiresSignatureForAmount:(PPHAmount *)<em>amountOrNil</em> paymentMethod:(PPHPaymentMethod)<em>paymentMethod</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>amountOrNil</code></th>
						<td><p>The amount to test against, or nil if you would like to use the current invoice total.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>paymentMethod</code></th>
						<td><p>The payment method. If it is ePPHPaymentMethodUnknown the method of the current payment is used.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Determines if the current transaction will request a signature or not for a given amount.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/requireSignatureWhenApplicable" title="requireSignatureWhenApplicable"></a>
	<h3 class="method-title"><code><a href="#//api/name/requireSignatureWhenApplicable">&nbsp;&nbsp;requireSignatureWhenApplicable</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Determines if we can bypass signature if it is not essential to the payment environment.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL requireSignatureWhenApplicable</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Determines if we can bypass signature if it is not essential to the payment environment.</p>

<p>If YES then we always request a signature when it would normally be optional (swipe, contactless MSD)</p>

<p>If NO we will respect the directions from the EMV chip or from the payment limits account configuration when determining when to request a signature</p>

<p>Default value is NO</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/beginPayment" title="beginPayment"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginPayment">&ndash;&nbsp;beginPayment</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Used to begin all types of payment (check-in, card present, manual entry, cash, etc)
This call causes the hardware enabled version of the SDK to start scanning for card swipes.
the <a href="#//api/name/currentInvoice">currentInvoice</a> is initialized with an empty inventory for you to add items to.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)beginPayment</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Used to begin all types of payment (check-in, card present, manual entry, cash, etc)
This call causes the hardware enabled version of the SDK to start scanning for card swipes.
the <a href="#//api/name/currentInvoice">currentInvoice</a> is initialized with an empty inventory for you to add items to.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/beginPaymentWithAmount:andName:" title="beginPaymentWithAmount:andName:"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginPaymentWithAmount:andName:">&ndash;&nbsp;beginPaymentWithAmount:andName:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Begin a fixed amount payment.  Similar to <a href="#//api/name/beginPayment">beginPayment</a> except this time the
TransactionManager&rsquo;s invoice object becomes primed with an invoice containing
the fixed amount item.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)beginPaymentWithAmount:(PPHAmount *)<em>amount</em> andName:(NSString *)<em>itemName</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>amount</code></th>
						<td><p>the amount to charge the customer.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>itemName</code></th>
						<td><p>the name for this item.  Will be stored in the invoice.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Begin a fixed amount payment.  Similar to <a href="#//api/name/beginPayment">beginPayment</a> except this time the
TransactionManager&rsquo;s invoice object becomes primed with an invoice containing
the fixed amount item.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/beginPaymentWithInvoice:" title="beginPaymentWithInvoice:"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginPaymentWithInvoice:">&ndash;&nbsp;beginPaymentWithInvoice:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Begin a payment use a given invoice.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)beginPaymentWithInvoice:(PPHInvoice *)<em>invoice</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>invoice</code></th>
						<td><p>the invoice which is tracking the current purchase.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Begin a payment use a given invoice.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/cancelPayment" title="cancelPayment"></a>
	<h3 class="method-title"><code><a href="#//api/name/cancelPayment">&ndash;&nbsp;cancelPayment</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Clears the current state of the transaction, including current invoice, card data, etc, thus
returning back to an Idle state.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (PPHError *)cancelPayment</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Clears the current state of the transaction, including current invoice, card data, etc, thus
returning back to an Idle state.</p>

<p>Returns an error if unable to clear the states. This could happen if we are in the middle of processing
a transaction. Else, returns nil.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/authorizePaymentWithPaymentType:withCompletionHandler:" title="authorizePaymentWithPaymentType:withCompletionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/authorizePaymentWithPaymentType:withCompletionHandler:">&ndash;&nbsp;authorizePaymentWithPaymentType:withCompletionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Authorize a payment.  Used with either Checkin (ePPHPaymentMethodPaypal) or a card
payment (ePPHPaymentMethodSwipe, ePPHPaymentMethodKey).   Allows you to authorize an amount.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)authorizePaymentWithPaymentType:(PPHPaymentMethod)<em>paymentMethod</em> withCompletionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>paymentMethod</code></th>
						<td><p>What type of authorization we are doing.  Can be ePPHPaymentMethodPaypal (checkin)
or ePPHPaymentMethodSwipe or ePPHPaymentMethodKey</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>Will return a <a href="../Classes/PPHTransactionResponse.html">PPHTransactionResponse</a>.  If there&rsquo;s an error then the PPHTransactionRecord&rsquo;s
error object will be non nil.  Otherwise it will contain a <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> which you can
later pass into voidAuthoriztion or capturePaymentForAuthorization</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Authorize a payment.  Used with either Checkin (ePPHPaymentMethodPaypal) or a card
payment (ePPHPaymentMethodSwipe, ePPHPaymentMethodKey).   Allows you to authorize an amount.</p>

<p>Once authorized you can be confident that PayPal will allow capture on up to 115% of the amount
authorized (allows for later adding of tips or later adding of some line items just prior to
capturing the payment.</p>

<p>However, if the merchant&rsquo;s account is so enabled, this capture limit can be upto 500%   See
<a href="../Classes/PPHPaymentLimits.html">PPHPaymentLimits</a>.captureTolerance for more information</p>

<p>After authorization is successful you can then, at a later time or immediately afterwards, call
capturePaymentForAuthorization to actually capture your money or you can call voidAuthorization
to discard the payment.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/voidAuthorization:withCompletionHandler:" title="voidAuthorization:withCompletionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/voidAuthorization:withCompletionHandler:">&ndash;&nbsp;voidAuthorization:withCompletionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Allows you to void a previously authorized payment.
@param authorizedTransactionRecord</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)voidAuthorization:(PPHTransactionRecord *)<em>authorizedTransactionRecord</em> withCompletionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>will return a <a href="../Classes/PPHTransactionResponse.html">PPHTransactionResponse</a>.  If there&rsquo;s an error then the PPHTransactionRecord&rsquo;s
error object will be non nil.  Otherwise it will contain a <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> for this void action.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Allows you to void a previously authorized payment.
@param authorizedTransactionRecord</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/capturePaymentForAuthorization:withCompletionHandler:" title="capturePaymentForAuthorization:withCompletionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/capturePaymentForAuthorization:withCompletionHandler:">&ndash;&nbsp;capturePaymentForAuthorization:withCompletionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Captures a prevoisly authorized payment.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)capturePaymentForAuthorization:(PPHTransactionRecord *)<em>authorizedTransactionRecord</em> withCompletionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>authorizedTransactionRecord</code></th>
						<td><p>This is the <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> you received in the
authorizePayment call.  This tells the SDK what auth you&rsquo;d like to capture.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>: Will return a <a href="../Classes/PPHTransactionResponse.html">PPHTransactionResponse</a>.  If there&rsquo;s an error
then the PPHTransactionRecord&rsquo;s error object will be non nil.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Captures a prevoisly authorized payment.</p>

<p>In most cases you can capture at 115% of what was previously authorized.</p>

<p>However, if the merchant&rsquo;s account is so enabled, this capture limit can be upto 500%   See
<a href="../Classes/PPHPaymentLimits.html">PPHPaymentLimits</a>.captureTolerance for more information</p>

<p>To capture more or less than was authorized you can add a gratutity or add/remove line items
from the invoice contained in the <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> you pass in.  If you don&rsquo;t wish to add
a gratutity or change line items just supply the transactionRecord you received when you
authorized the transaction.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/processPaymentWithPaymentType:withTransactionController:completionHandler:" title="processPaymentWithPaymentType:withTransactionController:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/processPaymentWithPaymentType:withTransactionController:completionHandler:">&ndash;&nbsp;processPaymentWithPaymentType:withTransactionController:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Process a payment given a payment type of card, cash, cheque, checked-In-Client, etc.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)processPaymentWithPaymentType:(PPHPaymentMethod)<em>paymentType</em> withTransactionController:(id&lt;PPHTransactionControllerDelegate&gt;)<em>controller</em> completionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>paymentType</code></th>
						<td><p>the type of payment to collect.  You&rsquo;ll get an error back if you
specify ePPHPaymentTypesCheckedInPayment and haven&rsquo;t set the
<a href="#//api/name/checkedInClient">checkedInClient</a> property.  Likewise with the cardData member and
specifying ePPHPaymentMethodSwipe.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>controller</code></th>
						<td><p>Can be nil.  If provided, the transaction manager will call the callbacks
defined in the <a href="../Protocols/PPHTransactionControllerDelegate.html">PPHTransactionControllerDelegate</a>.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>called when the action has completed</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Process a payment given a payment type of card, cash, cheque, checked-In-Client, etc.</p>

<p>Processing a payment for swipe or key-in or checkin-in payments will
actually capture that payment.  For Cash or Check, this call will simply
record the invoice into the paypal system for record-keeping purposes.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/provideSignature:forTransaction:completionHandler:" title="provideSignature:forTransaction:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/provideSignature:forTransaction:completionHandler:">&ndash;&nbsp;provideSignature:forTransaction:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Used to capture the signature of the customer if it already hasn&rsquo;t been captured in the processPayment call
and complete the transaction.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)provideSignature:(UIImage *)<em>signature</em> forTransaction:(PPHTransactionRecord *)<em>previousTransaction</em> completionHandler:(void ( ^ ) ( PPHError *))<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>signature</code></th>
						<td><p>: A UIImage contining the signature of the customer.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>previousTransaction</code></th>
						<td><p>: The transaction record object that is returned back from the processPayment call.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>: A response handler that would be invoked by the SDK in case of a success or a failure.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Used to capture the signature of the customer if it already hasn&rsquo;t been captured in the processPayment call
and complete the transaction.</p>

<p>Can be used to provide a signature in both the sale (processPayment) and auto/capture flows.
After processPayment returns you can then provide a signature using the <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> returned by processPayment.
After an authorization you can provide the signature either before or after a capture.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/beginRefund:forAmount:completionHandler:" title="beginRefund:forAmount:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginRefund:forAmount:completionHandler:">&ndash;&nbsp;beginRefund:forAmount:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Issue a refund against a previously successful PayPal transaction.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)beginRefund:(PPHTransactionRecord *)<em>previousTransaction</em> forAmount:(PPHAmount *)<em>amountOrNil</em> completionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>previousTransaction</code></th>
						<td><p>The transaction identifier for the original payment transaction.
If you want to send a receipt and you don&rsquo;t have a <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> you can construct one.  Just make
sure it at least has the transactionId set.  Other params being set is ok, they will not be accessed
by beginRefund.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>amountOrNil</code></th>
						<td><p>Only pass an amount in the case of a partial refund. Otherwise, the backend will ensure it&rsquo;s a full refund.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>Called when the action has completed</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Issue a refund against a previously successful PayPal transaction.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/sendReceipt:toRecipient:completionHandler:" title="sendReceipt:toRecipient:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/sendReceipt:toRecipient:completionHandler:">&ndash;&nbsp;sendReceipt:toRecipient:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Used to send the receipt of a transaction to a customer based on the email address or the phone number provided.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)sendReceipt:(PPHTransactionRecord *)<em>previousTransaction</em> toRecipient:(PPHReceiptDestination *)<em>destination</em> completionHandler:(PPHInvoiceBasicCompletionHandler)<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>previousTransaction</code></th>
						<td><p>: The transaction record object that is returned back from the processPayment call. This will
contain the invoice id and transaction id etc needed to send the receipt.</p>

<p>If you want to send a receipt and you don&rsquo;t have a <a href="../Classes/PPHTransactionRecord.html">PPHTransactionRecord</a> you can construct one.  Just make
sure it has BOTH the transactionId and payPalInvoiceId properties set.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>destination</code></th>
						<td><p>: A <a href="../Classes/PPHReceiptDestination.html">PPHReceiptDestination</a> object which describes either the email address or phone number to
which we should send the receipt.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>: A response handler that would be invoked by the SDK in case of a success or a failure.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Used to send the receipt of a transaction to a customer based on the email address or the phone number provided.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/activateReaderForPayments:" title="activateReaderForPayments:"></a>
	<h3 class="method-title"><code><a href="#//api/name/activateReaderForPayments:">&ndash;&nbsp;activateReaderForPayments:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<ul>
<li>This api is used to activate the EMV reader to start listening/processing for payments.</li>
<li>@param error : If an error occurs, upon return contains a <a href="../Classes/PPHError.html">PPHError</a> object that describes the problem.
                Pass in NULL if you do not want error reporting.</li>
</ul>

			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)activateReaderForPayments:(PPHError **)<em>error</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<ul>
<li>This api is used to activate the EMV reader to start listening/processing for payments.</li>
<li>@param error : If an error occurs, upon return contains a <a href="../Classes/PPHError.html">PPHError</a> object that describes the problem.
                Pass in NULL if you do not want error reporting.</li>
</ul>

			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/deActivateReaderForPayments" title="deActivateReaderForPayments"></a>
	<h3 class="method-title"><code><a href="#//api/name/deActivateReaderForPayments">&ndash;&nbsp;deActivateReaderForPayments</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>This api is used to stop the EMV reader from looking for payments.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)deActivateReaderForPayments</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This api is used to stop the EMV reader from looking for payments.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">PPHTransactionManager.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="EMV Methods" name="task_EMV Methods"></a>
						<h2 class="task-title">EMV Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/beginPaymentUsingUIWithInvoice:transactionController:" title="beginPaymentUsingUIWithInvoice:transactionController:"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginPaymentUsingUIWithInvoice:transactionController:">&ndash;&nbsp;beginPaymentUsingUIWithInvoice:transactionController:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>- (void)beginPaymentUsingUIWithInvoice:(PPHInvoice *)<em>invoice</em> transactionController:(id&lt;PPHTransactionControllerDelegate&gt;)<em>controller</em></code></div>

		    
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/processPaymentUsingUIWithPaymentType:completionHandler:" title="processPaymentUsingUIWithPaymentType:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/processPaymentUsingUIWithPaymentType:completionHandler:">&ndash;&nbsp;processPaymentUsingUIWithPaymentType:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>- (void)processPaymentUsingUIWithPaymentType:(PPHPaymentMethod)<em>paymentType</em> completionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/beginRefundUsingUIWithInvoice:transactionController:" title="beginRefundUsingUIWithInvoice:transactionController:"></a>
	<h3 class="method-title"><code><a href="#//api/name/beginRefundUsingUIWithInvoice:transactionController:">&ndash;&nbsp;beginRefundUsingUIWithInvoice:transactionController:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>- (void)beginRefundUsingUIWithInvoice:(PPHInvoice *)<em>invoice</em> transactionController:(id&lt;PPHTransactionControllerDelegate&gt;)<em>controller</em></code></div>

		    
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/processRefundUsingUIWithAmount:completionHandler:" title="processRefundUsingUIWithAmount:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/processRefundUsingUIWithAmount:completionHandler:">&ndash;&nbsp;processRefundUsingUIWithAmount:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>- (void)processRefundUsingUIWithAmount:(PPHAmount *)<em>amount</em> completionHandler:(PPHTransactionCompletionHandler)<em>completionHandler</em></code></div>

		    
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:" title="sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:">&ndash;&nbsp;sendReceiptUsingUIWithTransactionRecord:amount:transactionController:destination:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			

			<div class="method-subsection method-declaration"><code>- (void)sendReceiptUsingUIWithTransactionRecord:(PPHTransactionRecord *)<em>record</em> amount:(PPHAmount *)<em>transactionAmount</em> transactionController:(id&lt;PPHTransactionControllerDelegate&gt;)<em>transactionController</em> destination:(PPHReceiptDestination *)<em>destination</em> completionHandler:(PPHReceiptCompletionHandler)<em>completionHandler</em></code></div>

		    
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 PayPal. All rights reserved. Updated: 2016-02-04</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>